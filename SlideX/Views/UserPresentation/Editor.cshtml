@model SlideX.Models.Presentation
@{
    //ViewBag.Title = "Editor";
    Layout = null;
}
<script type="text/javascript">
    window.localStorage.setItem("StrutLastPres", "@Model.Title");
    window.localStorage.setItem("Strut_" + "@Model.Title", '@Html.Raw(Model.Data)');
</script>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Cache-Control" content="max-age=0">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="expires" content="0">
    <meta http-equiv="Expires" content="Tue, 01 Jan 1980 1:00:00 GMT">
    <meta http-equiv="Pragma" content="no-cache">
    <title>Strut - ALPHA</title>
    <script type="text/javascript">
        window.localStorage.setItem("StrutLastPres", "@Model.Title");
        window.localStorage.setItem("Strut_" + "@Model.Title", '@Html.Raw(Model.Data)');
    </script>
    <link rel="stylesheet" href="/Scripts/web/res/css/close-btn.css"></link>
    <link rel="stylesheet" href="/Scripts/web/res/css/bootstrap.css"></link>
    <link rel="stylesheet" href="/Scripts/web/res/css/main.css"></link>
    <link rel="stylesheet" href="/Scripts/web/res/jqplugins/colorpicker/css/colorpicker.css"
        type="text/css" />
    <link rel="stylesheet" href="/Scripts/web/res/jqplugins/gradient_picker/jquery.gradientPicker.css"
        type="text/css" />
    <link href='/Scripts/web/preview_export/css/web-fonts.css' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="/Scripts/web/scripts/vendor/A-jquery-1.7-matt.js"></script>
    <script type="text/javascript" src="/Scripts/web/scripts/vendor/B-jqueryUI.js"></script>
    <script type="text/javascript" src="/Scripts/web/scripts/vendor/C-underscore.js"></script>
    <script type="text/javascript" src="/Scripts/web/scripts/vendor/D-bootstrap.js"></script>
    <script type="text/javascript" src="/Scripts/web/scripts/vendor/E-bootstrapDropdown.js"></script>
    <script type="text/javascript" src="/Scripts/web/res/jqplugins/colorpicker/js/colorpicker.js"></script>
    <script type="text/javascript" src="/Scripts/web/res/jqplugins/gradient_picker/jquery.gradientPicker.js"></script>
    <script>
        jQuery.fn.selectText = function () {
            var doc = document;
            var element = this[0];
            if (doc.body.createTextRange) {
                var range = document.body.createTextRange();
                range.moveToElementText(element);
                range.select();
            } else if (window.getSelection) {
                var selection = window.getSelection();
                var range = document.createRange();
                range.selectNodeContents(element);
                selection.removeAllRanges();
                selection.addRange(range);
            }
            return this;
        };
    	</script>
    <script type="text/javascript" data-main="/Scripts/web/scripts/main" src="/Scripts/web/scripts/require.js"></script>
    <script type="text/javascript" src="/Scripts/web/preview_export/scripts/impress.js"></script>
    <script type="text/javascript">
        function SendPresentationToServer() {
            $.ajax({ type: 'POST', url: '/UserPresentation/SavePresentationData/',
                data: {
                    id: document.getElementById("currentPresentationId").value,
                    title: localStorage.getItem("StrutLastPres"),

                    data: localStorage.getItem("Strut_" + localStorage.getItem("StrutLastPres"))
                }, traditional: true
            });
        }
    </script>
</head>
<body>
    <button onclick="SendPresentationToServer()">
        Кнопка с текстом
    </button>

    @Html.HiddenFor(model => model.Id, new {id = "currentPresentationId"});
    
</body>
</html>
